{"ast":null,"code":"var _jsxFileName = \"/Users/jeremyholtzmann/lacapsule/project/morning news/part5/backend/reactapp/src/ScreenMyArticles.js\";\nimport React from \"react\";\nimport \"./App.css\";\nimport { Card, Col, Icon, Row, Modal } from \"antd\";\nimport Nav from \"./Nav\";\nimport { connect } from \"react-redux\";\nimport { useState } from \"react\";\nconst {\n  Meta\n} = Card;\n\nfunction ScreenMyArticles(props) {\n  const [modalTitle, setModalTitle] = useState(\"\");\n  const [modalContent, setModalContent] = useState(\"\");\n  const [isModalVisible, setIsModalVisible] = useState(false);\n\n  const showModal = i => {\n    setModalTitle(props.articleList[i].title);\n    setModalContent(props.articleList[i].content);\n    setIsModalVisible(true);\n  };\n\n  const handleOk = () => {\n    setIsModalVisible(false);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  async function removeArticle(title, id) {\n    console.log(\"PROPS : \", props);\n    await fetch(\"/removeArticle\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      body: \"token=\" + props.token + \"&id=\" + id\n    });\n    props.removeArticle(title);\n  }\n\n  var noArticles;\n\n  if (props.articleList.length === 0) {\n    noArticles = \"No articles\";\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(Nav, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"Banner\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }), noArticles, React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(Row, {\n    gutter: 200,\n    type: \"flex\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, props.articleList.map((element, i) => React.createElement(Col, {\n    key: i,\n    xs: 24,\n    lg: 8,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(Card, {\n    style: {\n      width: 300,\n      height: 500,\n      margin: \"15px\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"space-between\"\n    },\n    cover: React.createElement(\"img\", {\n      alt: \"example\",\n      src: element.img,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }),\n    actions: [React.createElement(Icon, {\n      type: \"read\",\n      key: \"ellipsis2\",\n      onClick: () => showModal(i),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }), React.createElement(Icon, {\n      type: \"delete\",\n      key: \"ellipsis\",\n      onClick: () => removeArticle(element.title, element._id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    })],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(Meta, {\n    title: element.title,\n    description: element.description,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  })))))), React.createElement(Modal, {\n    title: modalTitle,\n    visible: isModalVisible,\n    onOk: handleOk,\n    onCancel: handleCancel,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, modalContent)));\n}\n\nfunction mapStateToProps(state) {\n  return {\n    articleList: state.articleList,\n    token: state.token\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    removeArticle: function (articleTitle) {\n      dispatch({\n        type: \"removeArticle\",\n        articleTitle,\n        id\n      });\n    }\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ScreenMyArticles);","map":{"version":3,"sources":["/Users/jeremyholtzmann/lacapsule/project/morning news/part5/backend/reactapp/src/ScreenMyArticles.js"],"names":["React","Card","Col","Icon","Row","Modal","Nav","connect","useState","Meta","ScreenMyArticles","props","modalTitle","setModalTitle","modalContent","setModalContent","isModalVisible","setIsModalVisible","showModal","i","articleList","title","content","handleOk","handleCancel","removeArticle","id","console","log","fetch","method","headers","body","token","noArticles","length","display","justifyContent","map","element","width","height","margin","flexDirection","img","_id","description","mapStateToProps","state","mapDispatchToProps","dispatch","articleTitle","type"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./App.css\";\nimport { Card, Col, Icon, Row, Modal } from \"antd\";\nimport Nav from \"./Nav\";\nimport { connect } from \"react-redux\";\nimport { useState } from \"react\";\n\nconst { Meta } = Card;\n\nfunction ScreenMyArticles(props) {\n  const [modalTitle, setModalTitle] = useState(\"\");\n  const [modalContent, setModalContent] = useState(\"\");\n  const [isModalVisible, setIsModalVisible] = useState(false);\n\n  const showModal = (i) => {\n    setModalTitle(props.articleList[i].title);\n    setModalContent(props.articleList[i].content);\n    setIsModalVisible(true);\n  };\n\n  const handleOk = () => {\n    setIsModalVisible(false);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  async function removeArticle(title, id) {\n    console.log(\"PROPS : \", props);\n    await fetch(\"/removeArticle\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n      body: \"token=\" + props.token + \"&id=\" + id,\n    });\n\n    props.removeArticle(title);\n  }\n\n  var noArticles;\n  if (props.articleList.length === 0) {\n    noArticles = \"No articles\";\n  }\n  return (\n    <div>\n      <Nav />\n      <div className=\"Banner\" />\n      {noArticles}\n      <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n        <Row gutter={200} type=\"flex\">\n          {props.articleList.map((element, i) => (\n            <Col key={i} xs={24} lg={8}>\n              <Card\n                style={{\n                  width: 300,\n                  height: 500,\n                  margin: \"15px\",\n                  display: \"flex\",\n                  flexDirection: \"column\",\n                  justifyContent: \"space-between\",\n                }}\n                cover={<img alt=\"example\" src={element.img} />}\n                actions={[\n                  <Icon\n                    type=\"read\"\n                    key=\"ellipsis2\"\n                    onClick={() => showModal(i)}\n                  />,\n                  <Icon\n                    type=\"delete\"\n                    key=\"ellipsis\"\n                    onClick={() => removeArticle(element.title, element._id)}\n                  />,\n                ]}\n              >\n                <Meta title={element.title} description={element.description} />\n              </Card>\n            </Col>\n          ))}\n        </Row>\n      </div>\n      <Modal\n        title={modalTitle}\n        visible={isModalVisible}\n        onOk={handleOk}\n        onCancel={handleCancel}\n      >\n        <p>{modalContent}</p>\n      </Modal>\n    </div>\n  );\n}\n\nfunction mapStateToProps(state) {\n  return { articleList: state.articleList, token: state.token };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    removeArticle: function (articleTitle) {\n      dispatch({ type: \"removeArticle\", articleTitle, id });\n    },\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ScreenMyArticles);\n"]},"metadata":{},"sourceType":"module"}