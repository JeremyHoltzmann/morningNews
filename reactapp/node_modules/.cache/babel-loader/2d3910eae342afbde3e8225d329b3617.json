{"ast":null,"code":"var _jsxFileName = \"/Users/jeremyholtzmann/lacapsule/project/morning news/part5/backend/reactapp/src/ScreenHome.js\";\nimport React from \"react\";\nimport \"./App.css\";\nimport { Input, Button } from \"antd\";\nimport { Redirect } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport { connect } from \"react-redux\";\n\nfunction ScreenHome(props) {\n  const [isLogged, setIsLogged] = useState(false);\n  const [submitMessage, setSubmitMessage] = useState(\"\");\n  const [signUpUsername, setSignUpUsername] = useState(\"\");\n  const [signUpEmail, setSignUpEmail] = useState(\"\");\n  const [signUpPassword, setSignUpPassword] = useState(\"\");\n  const [signInEmail, setSignInEmail] = useState(\"\");\n  const [signInPassword, setSignInPassword] = useState(\"\");\n  const [signInMessage, setSigninMessage] = useState(\"\");\n\n  async function handleSubmitSignUp() {\n    await fetch(\"/sign-up\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      body: \"userName=\" + signUpUsername + \"&email=\" + signUpEmail + \"&password=\" + signUpPassword\n    }).then(data => data.json()).then(reponse => {\n      setSubmitMessage(reponse.message);\n\n      if (reponse.result) {\n        setSubmitMessage(reponse.message);\n        setSignUpUsername(\"\");\n        setSignUpEmail(\"\");\n        setSignUpPassword(\"\");\n      }\n    });\n  }\n\n  async function handleSubmitSignIn() {\n    await fetch(\"/sign-in\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      body: \"email=\" + signInEmail + \"&password=\" + signInPassword\n    }).then(data => data.json()).then(reponse => {\n      if (reponse.result) {\n        console.log(\"ðŸš€ ~ file: ScreenHome.js ~ line 52 ~ .then ~ reponse\", reponse);\n        setIsLogged(true);\n        props.signin(reponse.data.user.token);\n        props.addArticle(reponse.data.user.articles);\n      } else {\n        setSigninMessage(reponse.message);\n      }\n    });\n  }\n\n  if (isLogged) {\n    return React.createElement(Redirect, {\n      to: \"/screenSource\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    });\n  }\n\n  return React.createElement(\"div\", {\n    className: \"Login-page\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"Sign\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(Input, {\n    className: \"Login-input\",\n    placeholder: \"arthur@lacapsule.com\",\n    onChange: e => setSignInEmail(e.target.value),\n    value: signInEmail,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }), React.createElement(Input.Password, {\n    className: \"Login-input\",\n    placeholder: \"password\",\n    onChange: e => setSignInPassword(e.target.value),\n    value: signInPassword,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }), React.createElement(Button, {\n    style: {\n      width: \"80px\"\n    },\n    type: \"primary\",\n    onClick: () => handleSubmitSignIn(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"Sign-in\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, signInMessage)), React.createElement(\"div\", {\n    className: \"Sign\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(Input, {\n    className: \"Login-input\",\n    placeholder: \"Arthur G\",\n    onChange: e => setSignUpUsername(e.target.value),\n    value: signUpUsername,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }), React.createElement(Input, {\n    className: \"Login-input\",\n    placeholder: \"Email\",\n    onChange: e => setSignUpEmail(e.target.value),\n    value: signUpEmail,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }), React.createElement(Input.Password, {\n    className: \"Login-input\",\n    placeholder: \"password\",\n    onChange: e => setSignUpPassword(e.target.value),\n    value: signUpPassword,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }), React.createElement(Button, {\n    style: {\n      width: \"80px\"\n    },\n    type: \"primary\",\n    onClick: () => handleSubmitSignUp(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, \"Sign-up\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, submitMessage)));\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    signin: function (token) {\n      dispatch({\n        type: \"signin\",\n        token\n      });\n    },\n    addArticle: function (article) {\n      dispatch({\n        type: \"addArticle\",\n        article\n      });\n    }\n  };\n}\n\nexport default connect(null, mapDispatchToProps)(ScreenHome);","map":{"version":3,"sources":["/Users/jeremyholtzmann/lacapsule/project/morning news/part5/backend/reactapp/src/ScreenHome.js"],"names":["React","Input","Button","Redirect","useState","connect","ScreenHome","props","isLogged","setIsLogged","submitMessage","setSubmitMessage","signUpUsername","setSignUpUsername","signUpEmail","setSignUpEmail","signUpPassword","setSignUpPassword","signInEmail","setSignInEmail","signInPassword","setSignInPassword","signInMessage","setSigninMessage","handleSubmitSignUp","fetch","method","headers","body","then","data","json","reponse","message","result","handleSubmitSignIn","console","log","signin","user","token","addArticle","articles","e","target","value","width","mapDispatchToProps","dispatch","type","article"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./App.css\";\nimport { Input, Button } from \"antd\";\nimport { Redirect } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport { connect } from \"react-redux\";\n\nfunction ScreenHome(props) {\n  const [isLogged, setIsLogged] = useState(false);\n  const [submitMessage, setSubmitMessage] = useState(\"\");\n  const [signUpUsername, setSignUpUsername] = useState(\"\");\n  const [signUpEmail, setSignUpEmail] = useState(\"\");\n  const [signUpPassword, setSignUpPassword] = useState(\"\");\n\n  const [signInEmail, setSignInEmail] = useState(\"\");\n  const [signInPassword, setSignInPassword] = useState(\"\");\n  const [signInMessage, setSigninMessage] = useState(\"\");\n\n  async function handleSubmitSignUp() {\n    await fetch(\"/sign-up\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n      body:\n        \"userName=\" +\n        signUpUsername +\n        \"&email=\" +\n        signUpEmail +\n        \"&password=\" +\n        signUpPassword,\n    })\n      .then((data) => data.json())\n      .then((reponse) => {\n        setSubmitMessage(reponse.message);\n        if (reponse.result) {\n          setSubmitMessage(reponse.message);\n          setSignUpUsername(\"\");\n          setSignUpEmail(\"\");\n          setSignUpPassword(\"\");\n        }\n      });\n  }\n\n  async function handleSubmitSignIn() {\n    await fetch(\"/sign-in\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n      body: \"email=\" + signInEmail + \"&password=\" + signInPassword,\n    })\n      .then((data) => data.json())\n      .then((reponse) => {\n        if (reponse.result) {\n          console.log(\n            \"ðŸš€ ~ file: ScreenHome.js ~ line 52 ~ .then ~ reponse\",\n            reponse\n          );\n          setIsLogged(true);\n          props.signin(reponse.data.user.token);\n          props.addArticle(reponse.data.user.articles);\n        } else {\n          setSigninMessage(reponse.message);\n        }\n      });\n  }\n\n  if (isLogged) {\n    return <Redirect to=\"/screenSource\" />;\n  }\n\n  return (\n    <div className=\"Login-page\">\n      {/* SIGN-IN */}\n\n      <div className=\"Sign\">\n        <Input\n          className=\"Login-input\"\n          placeholder=\"arthur@lacapsule.com\"\n          onChange={(e) => setSignInEmail(e.target.value)}\n          value={signInEmail}\n        />\n\n        <Input.Password\n          className=\"Login-input\"\n          placeholder=\"password\"\n          onChange={(e) => setSignInPassword(e.target.value)}\n          value={signInPassword}\n        />\n\n        <Button\n          style={{ width: \"80px\" }}\n          type=\"primary\"\n          onClick={() => handleSubmitSignIn()}\n        >\n          Sign-in\n        </Button>\n        <div>{signInMessage}</div>\n      </div>\n\n      {/* SIGN-UP */}\n\n      <div className=\"Sign\">\n        <Input\n          className=\"Login-input\"\n          placeholder=\"Arthur G\"\n          onChange={(e) => setSignUpUsername(e.target.value)}\n          value={signUpUsername}\n        />\n        <Input\n          className=\"Login-input\"\n          placeholder=\"Email\"\n          onChange={(e) => setSignUpEmail(e.target.value)}\n          value={signUpEmail}\n        />\n\n        <Input.Password\n          className=\"Login-input\"\n          placeholder=\"password\"\n          onChange={(e) => setSignUpPassword(e.target.value)}\n          value={signUpPassword}\n        />\n\n        <Button\n          style={{ width: \"80px\" }}\n          type=\"primary\"\n          onClick={() => handleSubmitSignUp()}\n        >\n          Sign-up\n        </Button>\n        <div>{submitMessage}</div>\n      </div>\n    </div>\n  );\n}\nfunction mapDispatchToProps(dispatch) {\n  return {\n    signin: function (token) {\n      dispatch({ type: \"signin\", token });\n    },\n    addArticle: function (article) {\n      dispatch({ type: \"addArticle\", article });\n    },\n  };\n}\n\nexport default connect(null, mapDispatchToProps)(ScreenHome);\n"]},"metadata":{},"sourceType":"module"}