{"ast":null,"code":"var _jsxFileName = \"/Users/jeremyholtzmann/lacapsule/project/morning news/part5/backend/reactapp/src/ScreenArticlesBySource.js\";\nimport React from \"react\";\nimport \"./App.css\";\nimport { Card, Icon, Row, Col, Modal, Button } from \"antd\";\nimport Nav from \"./Nav\";\nimport { useParams } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nconst {\n  Meta\n} = Card;\n\nfunction ScreenArticlesBySource(props) {\n  var {\n    id\n  } = useParams();\n  const [articleArray, setArticleArray] = useState([]);\n  const [modalTitle, setModalTitle] = useState(\"\");\n  const [modalContent, setModalContent] = useState(\"\");\n  const [isModalVisible, setIsModalVisible] = useState(false);\n\n  const showModal = i => {\n    setModalTitle(articleArray[i].title);\n    setModalContent(articleArray[i].content);\n    setIsModalVisible(true);\n  };\n\n  const handleOk = () => {\n    setIsModalVisible(false);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  async function addArticle(title, description, content, img) {\n    props.addArticle({\n      title: title,\n      content: content,\n      description: description,\n      img: img\n    });\n    await fetch(\"/addArticle\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      body: \"token=\" + props.token + \"&title=\" + title + \"&content=\" + content + \"&description=\" + description + \"&img=\" + img\n    });\n  }\n\n  useEffect(() => {\n    var req = \"https://newsapi.org/v2/top-headlines?apiKey=dd0594311c8644e7a83119ce2dcdd00b&language=\" + props.language + \"&sources=\" + id;\n    fetch(req).then(response => response.json()).then(data => {\n      setArticleArray(data.articles);\n    });\n  }, []);\n  useEffect(() => {\n    var req = \"https://newsapi.org/v2/top-headlines?apiKey=dd0594311c8644e7a83119ce2dcdd00b&language=\" + props.language + \"&sources=\" + id;\n    fetch(req).then(response => response.json()).then(data => {\n      setArticleArray(data.articles);\n    });\n  }, [props.language]);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(Nav, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"Banner\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(Row, {\n    gutter: 16,\n    type: \"flex\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, articleArray.map((element, i) => React.createElement(Col, {\n    xs: 24,\n    lg: 8,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(Card, {\n    style: {\n      width: 300,\n      height: 500,\n      margin: \"15px\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"space-between\"\n    },\n    cover: React.createElement(\"img\", {\n      alt: \"example\",\n      src: element.urlToImage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }),\n    actions: [React.createElement(Icon, {\n      type: \"read\",\n      key: \"ellipsis2\",\n      onClick: () => showModal(i),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), React.createElement(Icon, {\n      type: \"like\",\n      key: \"ellipsis\",\n      onClick: () => addArticle(element.title, element.description, element.content, element.img),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    })],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(Meta, {\n    title: element.title,\n    description: element.description,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  })))))), React.createElement(Modal, {\n    title: modalTitle,\n    visible: isModalVisible,\n    onOk: handleOk,\n    onCancel: handleCancel,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, modalContent)));\n}\n\nfunction mapStateToProps(state) {\n  return {\n    language: state.language\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    addArticle: function (article) {\n      dispatch({\n        type: \"addArticle\",\n        article\n      });\n    },\n    changeLanguage: function (langue) {\n      dispatch({\n        type: \"changeLanguage\",\n        langue\n      });\n    }\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ScreenArticlesBySource);","map":{"version":3,"sources":["/Users/jeremyholtzmann/lacapsule/project/morning news/part5/backend/reactapp/src/ScreenArticlesBySource.js"],"names":["React","Card","Icon","Row","Col","Modal","Button","Nav","useParams","useState","useEffect","connect","Meta","ScreenArticlesBySource","props","id","articleArray","setArticleArray","modalTitle","setModalTitle","modalContent","setModalContent","isModalVisible","setIsModalVisible","showModal","i","title","content","handleOk","handleCancel","addArticle","description","img","fetch","method","headers","body","token","req","language","then","response","json","data","articles","display","justifyContent","map","element","width","height","margin","flexDirection","urlToImage","mapStateToProps","state","mapDispatchToProps","dispatch","article","type","changeLanguage","langue"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./App.css\";\nimport { Card, Icon, Row, Col, Modal, Button } from \"antd\";\nimport Nav from \"./Nav\";\nimport { useParams } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nconst { Meta } = Card;\n\nfunction ScreenArticlesBySource(props) {\n  var { id } = useParams();\n\n  const [articleArray, setArticleArray] = useState([]);\n  const [modalTitle, setModalTitle] = useState(\"\");\n  const [modalContent, setModalContent] = useState(\"\");\n\n  const [isModalVisible, setIsModalVisible] = useState(false);\n\n  const showModal = (i) => {\n    setModalTitle(articleArray[i].title);\n    setModalContent(articleArray[i].content);\n    setIsModalVisible(true);\n  };\n\n  const handleOk = () => {\n    setIsModalVisible(false);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  async function addArticle(title, description, content, img) {\n    props.addArticle({\n      title: title,\n      content: content,\n      description: description,\n      img: img,\n    });\n    await fetch(\"/addArticle\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n      body:\n        \"token=\" +\n        props.token +\n        \"&title=\" +\n        title +\n        \"&content=\" +\n        content +\n        \"&description=\" +\n        description +\n        \"&img=\" +\n        img,\n    });\n  }\n\n  useEffect(() => {\n    var req =\n      \"https://newsapi.org/v2/top-headlines?apiKey=dd0594311c8644e7a83119ce2dcdd00b&language=\" +\n      props.language +\n      \"&sources=\" +\n      id;\n    fetch(req)\n      .then((response) => response.json())\n      .then((data) => {\n        setArticleArray(data.articles);\n      });\n  }, []);\n\n  useEffect(() => {\n    var req =\n      \"https://newsapi.org/v2/top-headlines?apiKey=dd0594311c8644e7a83119ce2dcdd00b&language=\" +\n      props.language +\n      \"&sources=\" +\n      id;\n    fetch(req)\n      .then((response) => response.json())\n      .then((data) => {\n        setArticleArray(data.articles);\n      });\n  }, [props.language]);\n\n  return (\n    <div>\n      <Nav />\n      <div className=\"Banner\"></div>\n      <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n        <Row gutter={16} type=\"flex\">\n          {articleArray.map((element, i) => (\n            <Col xs={24} lg={8}>\n              <Card\n                style={{\n                  width: 300,\n                  height: 500,\n\n                  margin: \"15px\",\n                  display: \"flex\",\n                  flexDirection: \"column\",\n                  justifyContent: \"space-between\",\n                }}\n                cover={<img alt=\"example\" src={element.urlToImage} />}\n                actions={[\n                  <Icon\n                    type=\"read\"\n                    key=\"ellipsis2\"\n                    onClick={() => showModal(i)}\n                  />,\n                  <Icon\n                    type=\"like\"\n                    key=\"ellipsis\"\n                    onClick={() =>\n                      addArticle(\n                        element.title,\n                        element.description,\n                        element.content,\n                        element.img\n                      )\n                    }\n                  />,\n                ]}\n              >\n                <Meta title={element.title} description={element.description} />\n              </Card>\n            </Col>\n          ))}\n        </Row>\n      </div>\n      <Modal\n        title={modalTitle}\n        visible={isModalVisible}\n        onOk={handleOk}\n        onCancel={handleCancel}\n      >\n        <p>{modalContent}</p>\n      </Modal>\n    </div>\n  );\n}\n\nfunction mapStateToProps(state) {\n  return { language: state.language };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    addArticle: function (article) {\n      dispatch({ type: \"addArticle\", article });\n    },\n    changeLanguage: function (langue) {\n      dispatch({ type: \"changeLanguage\", langue });\n    },\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ScreenArticlesBySource);\n"]},"metadata":{},"sourceType":"module"}